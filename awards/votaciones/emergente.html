<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>CodePen - A Pen by Jeff Shamley</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
<link rel="stylesheet" href="./style.css">

</head>
<body>
<!-- partial:index.partial.html -->
    <div id="wrapper">
      <div class="ev-wrapper">
        <div class="ev-header">
          <small>December 16, 2014 &mdash; December 25, 2014</small>
          <h2 class="ev-headline">Vote now for your favorite</h2>
        </div>
        <ul class="ev-user">
		<ul id="ev-container"></ul>
<!--         <li class="ev-user-1 finalist-1">
            <span class="ev-headshot"><img src="https://www.whitehouse.gov/wp-content/uploads/2021/01/45_donald_trump.jpg?w=700&h=530&crop=1" width="160" height="160" /></span>
            <h3>Donal trompetas</h3>
            
            <a href="#" class="ev-voting-launch ev-btn" rel="finalist-1">
              <span class="text">Vote Now</span>
              <span class="overlay"></span>
            </a>
          </li>

          <li class="ev-user-2 finalist-2">
            <span class="ev-headshot"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5c/Kanye_West_at_the_2009_Tribeca_Film_Festival_%28crop_2%29.jpg/1200px-Kanye_West_at_the_2009_Tribeca_Film_Festival_%28crop_2%29.jpg" width="160" height="160" /></span>
            <h3>Kane</h3>
            <p>Columbia Falls, MT</p>
            <a href="#" class="ev-voting-launch ev-btn" rel="finalist-2">
              <span class="text">Vote Now</span>
              <span class="overlay"></span>
            </a>
          </li>
          <li class="ev-user-3 finalist-3">
            <span class="ev-headshot"><img src="https://www.artsandvenuesdenver.com/assets/img/Grinch-addb61b98f.PNG" width="160" height="160" /></span>
            <h3>The grinch</h3>
            <p>Salem, OR</p>
            <a href="#" class="ev-voting-launch ev-btn" rel="finalist-3">
              <span class="text">Vote Now</span>
              <span class="overlay"></span>
            </a>
          </li>
          <li class="ev-user-4 finalist-4">
            <span class="ev-headshot"><img src="https://m.media-amazon.com/images/M/MV5BMTQwMjAwNzI0M15BMl5BanBnXkFtZTcwOTY1MTMyOQ@@._V1_FMjpg_UX1000_.jpg" width="160" height="160" /></span>
            <h3>Jim Carrey</h3>
            <p>Wolf Point, MT</p>
            <a href="#" class="ev-voting-launch ev-btn" rel="finalist-4">
              <span class="text">Vote Now</span>
              <span class="overlay"></span>
            </a>
          </li>
		            <li class="ev-user-4 finalist-4">
            <span class="ev-headshot"><img src="https://m.media-amazon.com/images/M/MV5BMTQwMjAwNzI0M15BMl5BanBnXkFtZTcwOTY1MTMyOQ@@._V1_FMjpg_UX1000_.jpg" width="160" height="160" /></span>
            <h3>Rochelle Volk</h3>
            <p>Wolf Point, MT</p>
            <a href="#" class="ev-voting-launch ev-btn" rel="finalist-4">
              <span class="text">Vote Now</span>
              <span class="overlay"></span>
            </a>
          </li>
        </ul>-->
            

      </div>

<!-- partial -->
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script><script  src="./script.js"></script>
  <script>
  // Realizar la solicitud GET a la API
fetch('http://18.205.189.176:8080/api/votacions?page=0&size=20')
  .then(response => {
    if (!response.ok) {
      throw new Error(`HTTP error! status: ${response.status}`);
    }
    return response.json();
  })
  .then(data => {
    // Seleccionar el contenedor donde se insertarÃ¡ el contenido
    const container = document.getElementById('ev-container');

    // Iterar sobre los datos del JSON y generar el contenido
    data.forEach(item => {
      // Crear el elemento <li>
      const li = document.createElement('li');
      li.className = `ev-user-${item.id} finalist-${item.id}`;

      // Crear el <span> con la imagen
      const span = document.createElement('span');
      span.className = 'ev-headshot';
      const img = document.createElement('img');
      img.src = item.url;
      img.width = 160;
      img.height = 160;
      span.appendChild(img);

      // Crear el <h3> con el nombre
      const h3 = document.createElement('h3');
      h3.textContent = item.nombre;

      // Crear el enlace "Vote Now"
      const a = document.createElement('a');
      a.href = '#';
      a.className = 'ev-voting-launch ev-btn';
      a.rel = `finalist-${item.id}`;

      const spanText = document.createElement('span');
      spanText.className = 'text';
      spanText.textContent = 'Votar';

      const spanOverlay = document.createElement('span');
      spanOverlay.className = 'overlay';

      a.appendChild(spanText);
      a.appendChild(spanOverlay);

      // Agregar los elementos al <li>
      li.appendChild(span);
      li.appendChild(h3);
      li.appendChild(a);

      // Agregar el <li> al contenedor
      container.appendChild(li);
    });
  })
  .catch(error => {
    console.error('Error al obtener los datos:', error);
  });

  </script>

</body>
</html>
